{"version":3,"file":"static/webpack/static/development/pages/index.js.ab04060cbbbdd4d9d59b.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport Router from 'next/router';\nimport Form from 'antd/lib/form';\nimport Button from 'antd/lib/button';\nimport message from 'antd/lib/message';\nimport '../styles/back.css';\nclass loginPage extends React.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      name: '',\n      password: '',\n    };\n  }\n\n  handleChange = (name: any) => (event: any) => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n  onSubmit = (e: any) => {\n    e.preventDefault();\n    this.props.form.validateFields((err: any, values: any) => {\n      if (!err) {\n        fetch(\"http://xuncs.cn:2827/back/login\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({...values})\n        }).then((res: any) => {\n          if (!res.data) {\n            message.success('登录成功！');\n            window.sessionStorage.setItem('status', 'logined');\n            setTimeout(() => {\n              Router.push({pathname: '/home'});\n            }, 1500);\n          } else {\n            message.error('账号密码错误!');\n          }\n        })\n      }\n    });\n  }\n  render() {\n    return (\n      <section className=\"back-sec\">\n        <section className=\"back-cont\">\n          <h3>后台登录</h3>\n          <Form>\n            <Form.Item>\n              {getFieldDecorator('name', {\n                rules: [{ required: true, message: 'Please input your username!' }],\n              })(\n                <Input placeholder=\"Username\" />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator('password', {\n                rules: [{ required: true, message: 'Please input your Password!' }],\n              })(\n                <Input type=\"password\" placeholder=\"Password\" />\n              )}\n            </Form.Item>\n          </Form>\n          <Button type=\"primary\" className=\"back-btn\" onClick={this.onSubmit} block>登录</Button>\n        </section>\n      </section>\n    );\n  }\n}\nexport default Form.create()(loginPage);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAQA;AACA;AAGA;AAJA;AACA;AATA;AAcA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AA8BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AA/DA;AACA;AAgEA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}