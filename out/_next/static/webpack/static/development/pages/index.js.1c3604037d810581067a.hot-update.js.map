{"version":3,"file":"static/webpack/static/development/pages/index.js.1c3604037d810581067a.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport Router from 'next/router';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport message from 'antd/lib/message';\nimport '../styles/back.css';\nexport default class  extends React.Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      name: '',\n      password: '',\n    };\n  }\n\n  handleChange = (name: any) => (event: any) => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n  onSubmit = () => {\n    if (this.state.name === '' || this.state.password === '') {\n      message.error('请输入账号和密码');\n    }\n    fetch(\"http://xuncs.cn:2827/back/login\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({...this.state})\n        }).then((res: any) => {\n          if (res.data) {\n            message.success('登录成功！');\n            window.sessionStorage.setItem('status', 'logined');\n            setTimeout(() => {\n              Router.push({pathname: '/home'});\n            }, 1500);\n          } else {\n            message.error('账号密码错误!');\n          }\n        })\n  }\n  render() {\n    return (\n      <section className=\"back-sec\">\n        <section className=\"back-cont\">\n          <h3>后台登录</h3>\n          <form className=\"back-form\" noValidate autoComplete=\"off\">\n            <TextField\n              required\n              id=\"standard-name\"\n              label=\"账号\"\n              rows={10}\n              className=\"back-form-name\"\n              value={this.state.name}\n              onChange={this.handleChange('name')}\n              margin=\"normal\"\n              fullWidth\n            />\n            <TextField\n              required\n              id=\"standard-password\"\n              label=\"密码\"\n              className=\"back-form-pwd\"\n              value={this.state.password}\n              onChange={this.handleChange('password')}\n              margin=\"normal\"\n              type=\"password\"\n              fullWidth\n            />\n          </form>\n          <Button variant=\"outlined\" color=\"primary\" className=\"back-btn\" onClick={this.onSubmit}>登录</Button>\n        </section>\n      </section>\n    );\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAQA;AACA;AAGA;AAJA;AACA;AATA;AAcA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AA4BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AArEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}